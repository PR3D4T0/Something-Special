<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Something Special ‚ù§Ô∏è Valentine's Movie</title>
    <style>
        /* ===== RESET & VARIABLES ===== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            user-select: none;
            -webkit-tap-highlight-color: transparent;
        }

        :root {
            --valentine-pink: #FFB6C1;
            --valentine-dark-pink: #FF69B4;
            --valentine-red: #FF1493;
            --valentine-soft-pink: #FFE4E1;
            --valentine-gold: #FFD700;
            --valentine-purple: #DA70D6;
            --romantic-gradient: linear-gradient(135deg, #FFB6C1, #FF69B4, #FF1493);
        }

        /* ===== CINEMATIC BASE - Full Screen 9:16 ===== */
        body {
            background: #000;
            min-height: 100vh;
            min-height: -webkit-fill-available;
            display: flex;
            justify-content: center;
            align-items: center;
            font-family: 'Segoe UI', 'Arial', sans-serif;
        }

        html {
            height: -webkit-fill-available;
        }

        #movie-container {
            position: relative;
            width: 100%;
            max-width: 405px; /* 9:16 aspect ratio at 720p height */
            height: 100vh;
            height: -webkit-fill-available;
            max-height: 720px;
            background: var(--valentine-dark-pink);
            overflow: hidden;
            box-shadow: 0 0 50px rgba(255, 20, 147, 0.5);
            border-radius: 0; /* No border radius for true full screen */
            aspect-ratio: 9/16;
        }

        /* For devices that support viewport units properly */
        @supports (height: 100dvh) {
            #movie-container {
                height: 100dvh;
                max-height: none;
            }
        }

        /* ===== PRELOADER ===== */
        #preloader {
            position: absolute;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #FF1493, #FF69B4, #FFB6C1);
            z-index: 1000;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            transition: opacity 0.5s ease;
        }

        .loader-text {
            color: #fff;
            font-size: 28px; /* Reduced from 36px */
            letter-spacing: 2px;
            margin-bottom: 25px;
            font-weight: bold;
            text-transform: uppercase;
            text-shadow: 0 0 20px rgba(255,255,255,0.8);
            animation: glow 2s ease-in-out infinite;
        }

        .loader-bar {
            width: 250px; /* Slightly reduced */
            height: 5px;
            background: rgba(255,255,255,0.3);
            position: relative;
            overflow: hidden;
            border-radius: 10px;
        }

        .loader-bar::after {
            content: '';
            position: absolute;
            width: 50%;
            height: 100%;
            background: #fff;
            animation: loading 1.5s infinite;
            border-radius: 10px;
        }

        .loader-percent {
            color: #fff;
            margin-top: 15px;
            font-size: 18px; /* Reduced from 22px */
            font-weight: bold;
            text-shadow: 0 0 10px rgba(255,255,255,0.5);
        }

        @keyframes loading {
            0% { left: -50%; }
            100% { left: 100%; }
        }

        @keyframes glow {
            0%, 100% { text-shadow: 0 0 20px rgba(255,255,255,0.8); }
            50% { text-shadow: 0 0 40px rgba(255,255,255,1); }
        }

        /* ===== CINEMATIC OVERLAYS ===== */
        .film-grain {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: repeating-radial-gradient(circle at 50% 50%, rgba(255,192,203,0.1) 0px, transparent 1px);
            pointer-events: none;
            z-index: 50;
            opacity: 0.2;
            mix-blend-mode: overlay;
        }

        .vignette {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            box-shadow: inset 0 0 150px rgba(255,20,147,0.3);
            pointer-events: none;
            z-index: 40;
        }

        /* ===== SCENES ===== */
        .scene {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.8s ease, visibility 0.8s ease;
            background: linear-gradient(180deg, var(--bg-start) 0%, var(--bg-end) 100%);
        }

        .scene.active {
            opacity: 1;
            visibility: visible;
        }

        /* Romantic Scene-specific backgrounds */
        .scene[data-scene="1"] { --bg-start: #FFB6C1; --bg-end: #FF69B4; } /* Morning */
        .scene[data-scene="2"] { --bg-start: #FF69B4; --bg-end: #FF1493; } /* Ride */
        .scene[data-scene="3"] { --bg-start: #FF1493; --bg-end: #DA70D6; } /* Pickup */
        .scene[data-scene="4"] { --bg-start: #DA70D6; --bg-end: #FFB6C1; } /* Couple ride */
        .scene[data-scene="5"] { --bg-start: #FFB6C1; --bg-end: #FF69B4; } /* Park */
        .scene[data-scene="6"] { --bg-start: #2C1A4D; --bg-end: #FF1493; } /* QR Scan */
        .scene[data-scene="7"] { --bg-start: #1a0f2e; --bg-end: #FF1493; } /* Hack */
        .scene[data-scene="8"] { --bg-start: #FF1493; --bg-end: #FFD700; } /* Finale */

        /* ===== PARALLAX LAYERS ===== */
        .parallax-bg {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 200%;
            height: 30%;
            background: linear-gradient(180deg, transparent 0%, rgba(255,105,180,0.3) 100%);
            transform: translate3d(0, 0, 0);
            will-change: transform;
            pointer-events: none;
        }

        .parallax-floor {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 200%;
            height: 20%;
            background: repeating-linear-gradient(90deg, rgba(255,255,255,0.2) 0px, rgba(255,255,255,0.2) 20px, transparent 20px, transparent 40px);
            transform: translate3d(0, 0, 0);
            will-change: transform;
        }

        /* ===== CHARACTERS ===== */
        .character {
            position: absolute;
            bottom: 15%;
            left: 50%;
            transform: translateX(-50%) translate3d(0, 0, 0);
            height: 28vh;
            max-height: 200px; /* Slightly reduced for 9:16 */
            will-change: transform;
            transition: transform 0.3s ease;
            z-index: 10;
            filter: drop-shadow(0 15px 20px rgba(255,20,147,0.4));
        }

        .character img {
            height: 100%;
            width: auto;
            max-width: none;
            object-fit: contain;
        }

        /* ===== DIALOGUE BOXES ===== */
        .dialogue {
            position: absolute;
            top: 12%; /* Adjusted for 9:16 */
            left: 50%;
            transform: translateX(-50%);
            background: rgba(255, 255, 255, 0.25);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border-radius: 30px;
            padding: 12px 22px; /* Slightly reduced */
            color: white;
            border: 2px solid rgba(255,255,255,0.4);
            box-shadow: 0 8px 32px rgba(255,20,147,0.3);
            white-space: nowrap;
            z-index: 30;
            opacity: 0;
            transition: opacity 0.3s ease;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }

        .dialogue.show {
            opacity: 1;
        }

        .dialogue::after {
            content: '';
            position: absolute;
            bottom: -12px;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border-left: 12px solid transparent;
            border-right: 12px solid transparent;
            border-top: 12px solid rgba(255,255,255,0.25);
        }

        /* All dialogues same size */
        #scene1 .dialogue, #scene2 .dialogue, #scene3 .dialogue, 
        #scene4 .dialogue, #scene5 .dialogue, #scene6 .dialogue, 
        #scene7 .dialogue, #scene8 .dialogue {
            font-size: 18px; /* Slightly reduced for better fit */
            font-weight: 500;
        }

        /* ===== QR CODE SECTION ===== */
        .qr-container {
            position: absolute;
            top: 32%; /* Adjusted for 9:16 */
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            z-index: 30;
            animation: float 2s ease-in-out infinite;
        }

        .qr-box {
            width: 110px; /* Slightly smaller */
            height: 110px;
            background: white;
            padding: 8px;
            border-radius: 18px;
            box-shadow: 0 0 40px rgba(255,105,180,0.8);
            border: 3px solid #FF1493;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .qr-box:hover {
            transform: scale(1.05);
        }

        .qr-box svg {
            width: 100%;
            height: 100%;
        }

        /* ===== PHONE SCANNER UI ===== */
        .phone-scanner {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 85%; /* Responsive width */
            max-width: 320px;
            height: auto;
            aspect-ratio: 9/16;
            max-height: 500px;
            background: rgba(20, 10, 30, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 40px;
            border: 3px solid #FF1493;
            box-shadow: 0 0 80px rgba(255,20,147,0.6);
            z-index: 200;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            animation: phoneAppear 0.5s ease;
        }

        @keyframes phoneAppear {
            0% { transform: translate(-50%, -50%) scale(0); opacity: 0; }
            100% { transform: translate(-50%, -50%) scale(1); opacity: 1; }
        }

        .phone-header {
            background: #FF1493;
            padding: 15px;
            text-align: center;
            color: white;
            font-size: 20px;
            font-weight: bold;
        }

        .scanner-area {
            flex: 1;
            position: relative;
            background: #2a1a3a;
            margin: 15px;
            border-radius: 25px;
            overflow: hidden;
            border: 2px solid #FF69B4;
        }

        .scanning-qr {
            width: 120px;
            height: 120px;
            background: white;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            border-radius: 15px;
            padding: 8px;
            animation: pulse 1.5s infinite;
        }

        .scan-line {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 3px;
            background: #FF1493;
            animation: scanVertical 2s linear infinite;
            box-shadow: 0 0 20px #FF69B4;
        }

        @keyframes scanVertical {
            0% { top: 0; }
            100% { top: 100%; }
        }

        .scanning-text {
            color: white;
            font-size: 18px;
            text-align: center;
            margin: 15px;
            animation: blink 1s infinite;
        }

        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        /* ===== HACKER MASK & QUIZ ===== */
        .hacker-mask {
            position: absolute;
            top: 22%;
            left: 50%;
            transform: translateX(-50%);
            width: 150px;
            height: 150px;
            z-index: 100;
            filter: drop-shadow(0 0 40px #FF1493);
            animation: romanticGlitch 0.5s infinite;
        }

        @keyframes romanticGlitch {
            0% { filter: drop-shadow(0 0 40px #FF1493); transform: translateX(-50%) skew(0deg); }
            20% { filter: drop-shadow(-10px 0 35px #FF69B4); transform: translateX(-52%) skew(3deg); }
            40% { filter: drop-shadow(10px 0 35px #FFB6C1); transform: translateX(-48%) skew(-3deg); }
            60% { filter: drop-shadow(0 0 40px #FF1493); transform: translateX(-50%) skew(0deg); }
        }

        .quiz-container {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 85%;
            max-width: 280px;
            background: rgba(255,240,245,0.98);
            border: 3px solid #FF1493;
            border-radius: 22px;
            padding: 20px 15px;
            text-align: center;
            z-index: 100;
            box-shadow: 0 0 60px rgba(255,20,147,0.7);
            backdrop-filter: blur(5px);
        }

        .question-text {
            color: #FF1493;
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 20px;
            line-height: 1.5;
            padding: 0 8px;
        }

        .quiz-buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 10px;
        }

        .quiz-btn {
            padding: 10px 25px;
            font-size: 16px;
            border: none;
            border-radius: 35px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(255,20,147,0.4);
        }

        #yes-btn {
            background: #FF1493;
            color: white;
        }

        #yes-btn:hover {
            transform: scale(1.1);
            background: #FF69B4;
            box-shadow: 0 0 30px #FF1493;
        }

        #no-btn {
            background: #FFB6C1;
            color: #FF1493;
            position: relative;
        }

        /* ===== ROSE PETAL RAIN ===== */
        .petal-rain {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 200;
        }

        .petal {
            position: absolute;
            width: 25px;
            height: 25px;
            background: url('petal.png') no-repeat center/contain;
            animation: romanticFall linear infinite;
            filter: drop-shadow(0 0 12px #FF69B4);
        }

        @keyframes romanticFall {
            to {
                transform: translateY(100vh) rotate(1080deg);
            }
        }

        /* ===== EXPLOSION EFFECT ===== */
        .explosion {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 0;
            height: 0;
            border-radius: 50%;
            background: radial-gradient(circle, #FF1493, #FF69B4, #FFB6C1);
            z-index: 180;
            animation: explode 1s ease-out forwards;
        }

        @keyframes explode {
            0% { width: 0; height: 0; opacity: 1; }
            100% { width: 800px; height: 800px; opacity: 0; }
        }

        /* ===== TEDDY BEAR FINALE ===== */
        .teddy-container {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            z-index: 190;
            animation: romanticFloat 3s ease-in-out infinite;
        }

        .teddy-container img {
            width: 160px;
            height: auto;
            filter: drop-shadow(0 20px 40px rgba(255,20,147,0.7));
        }

        .final-message {
            color: white;
            font-size: 24px;
            font-weight: bold;
            text-shadow: 0 0 30px #FF1493, 2px 2px 4px rgba(0,0,0,0.4);
            margin-top: 15px;
            animation: romanticGlow 2s ease-in-out infinite;
        }

        .final-submessage {
            color: #FFE4E1;
            font-size: 18px;
            margin-top: 10px;
            text-shadow: 0 0 15px #FF69B4;
        }

        @keyframes romanticFloat {
            0%, 100% { transform: translate(-50%, -50%) translateY(0); }
            50% { transform: translate(-50%, -50%) translateY(-20px); }
        }

        @keyframes romanticGlow {
            0%, 100% { text-shadow: 0 0 30px #FF1493, 2px 2px 4px rgba(0,0,0,0.4); }
            50% { text-shadow: 0 0 50px #FF69B4, 4px 4px 8px rgba(0,0,0,0.4); }
        }

        /* ===== CIRCULAR NAVIGATION BUTTONS ===== */
        .nav-controls {
            position: absolute;
            bottom: 15px;
            right: 15px;
            z-index: 1000;
            display: flex;
            gap: 12px;
        }

        .nav-btn {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: linear-gradient(145deg, #FF1493, #FF69B4);
            border: 2px solid white;
            color: white;
            font-size: 24px;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            box-shadow: 0 0 25px rgba(255,20,147,0.7);
            transition: all 0.3s ease;
        }

        .nav-btn:active {
            transform: scale(0.85);
            box-shadow: 0 0 40px #FF1493;
        }

        /* Audio controls */
        .audio-control {
            position: absolute;
            top: 15px;
            left: 15px;
            z-index: 1000;
        }

        #music-toggle {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            background: rgba(255,255,255,0.2);
            backdrop-filter: blur(8px);
            border: 2px solid white;
            color: white;
            font-size: 22px;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            box-shadow: 0 0 25px rgba(255,20,147,0.6);
            transition: all 0.3s ease;
        }

        #music-toggle:active {
            transform: scale(0.85);
        }

        /* Prevent scrolling on body */
        body {
            overflow: hidden;
            position: fixed;
            width: 100%;
            height: 100%;
        }
    </style>
</head>
<body>
    <div id="movie-container">
        <!-- Audio Element -->
        <audio id="bg-music" loop autoplay playsinline>
            <source src="roman.mp3" type="audio/mp3">
        </audio>

        <!-- Preloader -->
        <div id="preloader">
            <div class="loader-text">Something Special</div>
            <div class="loader-bar"></div>
            <div class="loader-percent" id="loader-percent">0%</div>
        </div>

        <!-- Cinematic Overlays -->
        <div class="film-grain"></div>
        <div class="vignette"></div>

        <!-- Audio Control -->
        <div class="audio-control">
            <div id="music-toggle">üîä</div>
        </div>

        <!-- Circular Navigation Buttons -->
        <div class="nav-controls">
            <div class="nav-btn" id="prev-scene">‚Üê</div>
            <div class="nav-btn" id="next-scene">‚Üí</div>
        </div>

        <!-- SCENE 1: The Wave -->
        <div class="scene" data-scene="1" id="scene1">
            <div class="parallax-bg"></div>
            <div class="parallax-floor"></div>
            <div class="character" id="char1">
                <img src="boy_bike_wave.png" alt="Boy waving on bike" onerror="this.src='data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22100%22%20height%3D%22100%22%20viewBox%3D%220%200%20100%20100%22%3E%3Ccircle%20cx%3D%2250%22%20cy%3D%2250%22%20r%3D%2240%22%20fill%3D%22%23ff1493%22%2F%3E%3Ctext%20x%3D%2250%22%20y%3D%2265%22%20font-size%3D%2220%22%20text-anchor%3D%22middle%22%20fill%3D%22white%22%3E‚ù§Ô∏è%3C%2Ftext%3E%3C%2Fsvg%3E'">
            </div>
            <div class="dialogue" id="dialogue1">Hey beautiful! Coming to pick you up! üíï</div>
        </div>

        <!-- SCENE 2: Solo Ride -->
        <div class="scene" data-scene="2" id="scene2">
            <div class="parallax-bg"></div>
            <div class="parallax-floor"></div>
            <div class="character moving" id="char2">
                <img src="bike_solo.png" alt="Boy riding solo" onerror="this.src='data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22100%22%20height%3D%22100%22%20viewBox%3D%220%200%20100%20100%22%3E%3Ccircle%20cx%3D%2250%22%20cy%3D%2250%22%20r%3D%2240%22%20fill%3D%22%23ff1493%22%2F%3E%3Ctext%20x%3D%2250%22%20y%3D%2265%22%20font-size%3D%2220%22%20text-anchor%3D%22middle%22%20fill%3D%22white%22%3EüèçÔ∏è%3C%2Ftext%3E%3C%2Fsvg%3E'">
            </div>
            <div class="dialogue" id="dialogue2">Can't wait to see you! üíñ</div>
        </div>

        <!-- SCENE 3: The Pickup -->
        <div class="scene" data-scene="3" id="scene3">
            <div class="parallax-bg"></div>
            <div class="character" id="char3-boy" style="left: 30%;">
                <img src="bike_solo.png" alt="Boy on bike" onerror="this.src='data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22100%22%20height%3D%22100%22%20viewBox%3D%220%200%20100%20100%22%3E%3Ccircle%20cx%3D%2250%22%20cy%3D%2250%22%20r%3D%2240%22%20fill%3D%22%23ff1493%22%2F%3E%3C%2Fsvg%3E'">
            </div>
            <div class="character" id="char3-girl" style="left: 70%;">
                <img src="girl.png" alt="Girl waiting" onerror="this.src='data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22100%22%20height%3D%22100%22%20viewBox%3D%220%200%20100%20100%22%3E%3Ccircle%20cx%3D%2250%22%20cy%3D%2250%22%20r%3D%2240%22%20fill%3D%22%23ff69b4%22%2F%3E%3C%2Fsvg%3E'">
            </div>
            <div class="dialogue" id="dialogue3">You look gorgeous! Hop on! ü•∞</div>
        </div>

        <!-- SCENE 4: Couple Ride -->
        <div class="scene" data-scene="4" id="scene4">
            <div class="parallax-bg"></div>
            <div class="parallax-floor"></div>
            <div class="character moving" id="char4">
                <img src="couple_bike.png" alt="Couple riding" onerror="this.src='data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22100%22%20height%3D%22100%22%20viewBox%3D%220%200%20100%20100%22%3E%3Ccircle%20cx%3D%2240%22%20cy%3D%2250%22%20r%3D%2220%22%20fill%3D%22%23ff1493%22%2F%3E%3Ccircle%20cx%3D%2260%22%20cy%3D%2250%22%20r%3D%2220%22%20fill%3D%22%23ff69b4%22%2F%3E%3C%2Fsvg%3E'">
            </div>
            <div class="dialogue" id="dialogue4">Let's go to our special place! üåπ</div>
        </div>

        <!-- SCENE 5: Park Date with QR Code -->
        <div class="scene" data-scene="5" id="scene5">
            <div class="parallax-bg"></div>
            <div class="character" id="char5">
                <img src="couple_bench.png" alt="Couple on bench" onerror="this.src='data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22100%22%20height%3D%22100%22%20viewBox%3D%220%200%20100%20100%22%3E%3Crect%20x%3D%2220%22%20y%3D%2260%22%20width%3D%2260%22%20height%3D%2210%22%20fill%3D%22%238B4513%22%2F%3E%3Ccircle%20cx%3D%2240%22%20cy%3D%2245%22%20r%3D%2215%22%20fill%3D%22%23ff1493%22%2F%3E%3Ccircle%20cx%3D%2260%22%20cy%3D%2245%22%20r%3D%2215%22%20fill%3D%22%23ff69b4%22%2F%3E%3C%2Fsvg%3E'">
            </div>
            
            <!-- QR Code -->
            <div class="qr-container" id="qr-code" style="display: none;">
                <div class="qr-box" id="qr-click">
                    <svg viewBox="0 0 100 100">
                        <rect width="100" height="100" fill="white"/>
                        <rect x="10" y="10" width="30" height="30" fill="#FF1493"/>
                        <rect x="60" y="10" width="30" height="30" fill="#FF1493"/>
                        <rect x="10" y="60" width="30" height="30" fill="#FF1493"/>
                        <rect x="60" y="60" width="30" height="30" fill="#FF1493"/>
                        <rect x="35" y="35" width="30" height="30" fill="#FF1493"/>
                    </svg>
                </div>
            </div>
            
            <div class="dialogue" id="dialogue5">Hey! There's a QR code! Scan it! üì±</div>
        </div>

        <!-- SCENE 6: Phone Scanner UI -->
        <div class="scene" data-scene="6" id="scene6">
            <div class="phone-scanner" id="phone-scanner">
                <div class="phone-header">üì± Valentine Scanner</div>
                <div class="scanner-area">
                    <div class="scanning-qr">
                        <svg viewBox="0 0 100 100">
                            <rect width="100" height="100" fill="white"/>
                            <rect x="10" y="10" width="30" height="30" fill="#FF1493"/>
                            <rect x="60" y="10" width="30" height="30" fill="#FF1493"/>
                            <rect x="10" y="60" width="30" height="30" fill="#FF1493"/>
                            <rect x="60" y="60" width="30" height="30" fill="#FF1493"/>
                        </svg>
                    </div>
                    <div class="scan-line"></div>
                </div>
                <div class="scanning-text">Scanning QR Code...</div>
            </div>
        </div>

        <!-- SCENE 7: Hacker Mask with Multiple Questions -->
        <div class="scene" data-scene="7" id="scene7">
            <div class="hacker-mask" id="hacker-mask">
                <img src="mask.png" alt="Hacker mask" onerror="this.src='data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22180%22%20height%3D%22180%22%20viewBox%3D%220%200%20180%20180%22%3E%3Ccircle%20cx%3D%2290%22%20cy%3D%2290%22%20r%3D%2270%22%20fill%3D%22%23FF1493%22%2F%3E%3Ccircle%20cx%3D%2265%22%20cy%3D%2275%22%20r%3D%2215%22%20fill%3D%22white%22%2F%3E%3Ccircle%20cx%3D%22115%22%20cy%3D%2275%22%20r%3D%2215%22%20fill%3D%22white%22%2F%3E%3Cpath%20d%3D%22M65%20125 Q90%20160%20115%20125%22%20stroke%3D%22white%22%20stroke-width%3D%2210%22%20fill%3D%22none%22%2F%3E%3Ctext%20x%3D%2290%22%20y%3D%22110%22%20font-size%3D%2220%22%20text-anchor%3D%22middle%22%20fill%3D%22white%22%3E?%3C%2Ftext%3E%3C%2Fsvg%3E'">
            </div>
            
            <div class="quiz-container" id="quiz-container">
                <div class="question-text" id="question-text">üîí PRIVACY BREACH DETECTED!</div>
                <div class="quiz-buttons">
                    <button class="quiz-btn" id="yes-btn">YES üíù</button>
                    <button class="quiz-btn" id="no-btn">NO üòà</button>
                </div>
            </div>
        </div>

        <!-- SCENE 8: The Grand Finale -->
        <div class="scene" data-scene="8" id="scene8">
            <div class="petal-rain" id="petal-rain"></div>
            <div class="teddy-container">
                <img src="teddy.png" alt="Teddy bear" onerror="this.src='data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22200%22%20height%3D%22200%22%20viewBox%3D%220%200%20200%20200%22%3E%3Ccircle%20cx%3D%22100%22%20cy%3D%22110%22%20r%3D%2250%22%20fill%3D%22%23FF69B4%22%2F%3E%3Ccircle%20cx%3D%2275%22%20cy%3D%2280%22%20r%3D%2215%22%20fill%3D%22%23FF1493%22%2F%3E%3Ccircle%20cx%3D%22125%22%20cy%3D%2280%22%20r%3D%2215%22%20fill%3D%22%23FF1493%22%2F%3E%3C%2Fsvg%3E'">
                <div class="final-message">HAPPY VALENTINE'S DAY</div>
                <div class="final-submessage">You're my forever Valentine!</div>
            </div>
        </div>
    </div>

    <script>
        class ValentineMovie {
            constructor() {
                this.currentScene = 1;
                this.totalScenes = 8;
                this.scenes = document.querySelectorAll('.scene');
                this.dialogues = document.querySelectorAll('.dialogue');
                this.audio = document.getElementById('bg-music');
                this.musicPlaying = false;
                
                // Valentine Questions
                this.questions = [
                    "Is your heart beating faster?",
                    "Do you believe in love at first sight?",
                    "Will you be my Valentine forever?"
                ];
                this.currentQuestion = 0;
                
                this.init();
            }
            
            async init() {
                await this.loadAssets();
                this.setupEventListeners();
                this.showScene(1);
                this.startParallax();
                this.setupNoButton();
                this.startPreloader();
                this.setupAudio();
            }
            
            setupAudio() {
                this.audio.volume = 0.5;
                
                // Try to play audio automatically
                let playPromise = this.audio.play();
                
                if (playPromise !== undefined) {
                    playPromise.then(() => {
                        this.musicPlaying = true;
                        document.getElementById('music-toggle').textContent = 'üîä';
                    }).catch(() => {
                        this.musicPlaying = false;
                        document.getElementById('music-toggle').textContent = 'üîà';
                    });
                }
                
                document.getElementById('music-toggle').addEventListener('click', () => {
                    if (this.musicPlaying) {
                        this.audio.pause();
                        this.musicPlaying = false;
                        document.getElementById('music-toggle').textContent = 'üîà';
                    } else {
                        this.audio.play();
                        this.musicPlaying = true;
                        document.getElementById('music-toggle').textContent = 'üîä';
                    }
                });
            }
            
            startPreloader() {
                const preloader = document.getElementById('preloader');
                const percentEl = document.getElementById('loader-percent');
                
                let progress = 0;
                const interval = setInterval(() => {
                    progress += Math.random() * 12;
                    if (progress >= 100) {
                        progress = 100;
                        clearInterval(interval);
                        setTimeout(() => {
                            preloader.style.opacity = '0';
                            setTimeout(() => {
                                preloader.style.display = 'none';
                            }, 500);
                        }, 500);
                    }
                    percentEl.textContent = Math.min(100, Math.floor(progress)) + '%';
                }, 150);
            }
            
            loadAssets() {
                return new Promise((resolve) => {
                    let loaded = 0;
                    const imagesToLoad = [
                        'boy_bike_wave.png',
                        'bike_solo.png',
                        'girl.png',
                        'couple_bike.png',
                        'couple_bench.png',
                        'mask.png',
                        'petal.png',
                        'teddy.png'
                    ];
                    
                    imagesToLoad.forEach(src => {
                        const img = new Image();
                        img.onload = img.onerror = () => {
                            loaded++;
                            if (loaded === imagesToLoad.length) resolve();
                        };
                        img.src = src;
                    });
                    
                    setTimeout(resolve, 3000);
                });
            }
            
            setupEventListeners() {
                document.getElementById('prev-scene').addEventListener('click', () => this.prevScene());
                document.getElementById('next-scene').addEventListener('click', () => this.nextScene());
                
                // QR Code click to start scanner
                document.getElementById('qr-click')?.addEventListener('click', () => {
                    this.showScene(6);
                    setTimeout(() => this.showScene(7), 3000);
                });
                
                // Yes button for questions
                document.getElementById('yes-btn').addEventListener('click', () => {
                    if (this.currentQuestion < this.questions.length - 1) {
                        this.currentQuestion++;
                        document.getElementById('question-text').textContent = this.questions[this.currentQuestion];
                    } else {
                        // All questions answered - explosion and finale
                        this.maskExplodeAndFinale();
                    }
                });
                
                // Reset no button position on click
                document.getElementById('no-btn')?.addEventListener('click', (e) => {
                    e.preventDefault();
                });
            }
            
            showScene(sceneNumber) {
                if (sceneNumber < 1 || sceneNumber > this.totalScenes) return;
                
                this.currentScene = sceneNumber;
                
                this.scenes.forEach(scene => scene.classList.remove('active'));
                document.getElementById(`scene${sceneNumber}`).classList.add('active');
                
                // Show dialogue for current scene
                this.dialogues.forEach(d => d.classList.remove('show'));
                const dialogue = document.getElementById(`dialogue${sceneNumber}`);
                if (dialogue) {
                    setTimeout(() => dialogue.classList.add('show'), 500);
                }
                
                // Special scene handlers
                if (sceneNumber === 5) {
                    setTimeout(() => this.showQRCode(), 2000);
                }
                
                if (sceneNumber === 7) {
                    this.currentQuestion = 0;
                    document.getElementById('question-text').textContent = this.questions[0];
                    this.startGlitchEffect();
                }
            }
            
            showQRCode() {
                const qr = document.getElementById('qr-code');
                if (qr && this.currentScene === 5) {
                    qr.style.display = 'block';
                }
            }
            
            maskExplodeAndFinale() {
                // Create explosion effect
                const explosion = document.createElement('div');
                explosion.className = 'explosion';
                document.getElementById('movie-container').appendChild(explosion);
                
                // Hide mask and quiz
                document.getElementById('hacker-mask').style.display = 'none';
                document.getElementById('quiz-container').style.display = 'none';
                
                // Start petal rain
                this.startPetalRain();
                
                // After explosion, show finale
                setTimeout(() => {
                    explosion.remove();
                    this.showScene(8);
                }, 1000);
            }
            
            nextScene() {
                this.showScene(this.currentScene + 1);
            }
            
            prevScene() {
                this.showScene(this.currentScene - 1);
            }
            
            startParallax() {
                let offset = 0;
                setInterval(() => {
                    if (this.currentScene === 2 || this.currentScene === 4) {
                        offset -= 1;
                        const bgElements = document.querySelectorAll('.parallax-bg, .parallax-floor');
                        bgElements.forEach(el => {
                            el.style.transform = `translate3d(${offset}px, 0, 0)`;
                        });
                        
                        const movingChar = document.querySelector('.character.moving');
                        if (movingChar) {
                            const moveOffset = (offset % 60) / 60 * 25 - 12.5;
                            movingChar.style.transform = `translateX(calc(-50% + ${moveOffset}px)) translate3d(0, 0, 0)`;
                        }
                    }
                }, 50);
            }
            
            setupNoButton() {
                const noBtn = document.getElementById('no-btn');
                if (!noBtn) return;
                
                const moveButton = (e) => {
                    e.preventDefault();
                    const container = document.getElementById('movie-container');
                    const maxX = container.clientWidth - 100;
                    const maxY = container.clientHeight - 150;
                    const x = Math.random() * Math.max(0, maxX);
                    const y = Math.random() * Math.max(0, maxY);
                    noBtn.style.position = 'absolute';
                    noBtn.style.left = x + 'px';
                    noBtn.style.top = y + 'px';
                };
                
                noBtn.addEventListener('mouseover', moveButton);
                noBtn.addEventListener('touchstart', moveButton);
            }
            
            startGlitchEffect() {
                const mask = document.getElementById('hacker-mask');
                if (!mask) return;
                
                setInterval(() => {
                    mask.style.opacity = Math.random() > 0.3 ? '1' : '0.8';
                    mask.style.transform = `translateX(-50%) scale(${1 + (Math.random() * 0.15 - 0.075)})`;
                }, 150);
            }
            
            startPetalRain() {
                const container = document.getElementById('petal-rain');
                if (!container) return;
                
                for (let i = 0; i < 60; i++) {
                    setTimeout(() => {
                        const petal = document.createElement('div');
                        petal.className = 'petal';
                        petal.style.left = Math.random() * 100 + '%';
                        petal.style.animationDuration = (Math.random() * 4 + 3) + 's';
                        petal.style.animationDelay = '0s';
                        petal.style.transform = `rotate(${Math.random() * 360}deg)`;
                        container.appendChild(petal);
                        
                        setTimeout(() => petal.remove(), 8000);
                    }, i * 120);
                }
            }
        }
        
        window.addEventListener('load', () => {
            const movie = new ValentineMovie();
        });

        // Handle orientation change
        window.addEventListener('resize', () => {
            // Adjust any dynamic sizing if needed
        });
    </script>
</body>
</html>
